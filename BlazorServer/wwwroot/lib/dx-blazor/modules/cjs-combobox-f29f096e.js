_dxBlazorInternal.define("cjs-combobox-f29f096e.js",function(e,t,n){e("./cjs-chunk-c27cc8ab.js");var o=e("./cjs-dom-utils-600e85da.js"),s=e("./cjs-chunk-f01bf344.js"),a=e("./cjs-chunk-6373d752.js"),r=e("./cjs-dropdowns-9d2f3093.js");e("./cjs-chunk-f6404a26.js");var u=e("./cjs-chunk-5d571f4f.js");function c(e){return e==u.Key.Tab||16<=e&&e<=20}var i=200,l=i/2;function d(e){var t=p(e);u.ScrollToSelectedItem(t)}function m(e){e=o.EnsureElement(e),document.activeElement===e&&(f(e),E(e))}function f(e){e&&!e.readOnly&&e.dataset.nullText&&e.value===e.dataset.nullText&&(e.value="")}function v(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||window.setTimeout(function(){v(e,!0)},l)}function E(e){e&&e.dataset.focusedClass&&(e.className=e.dataset.focusedClass)}function y(e,t){return t&&!function(e){c(e.keyCode)||(e.target.dataset.previousValue=e.target.value)}(e),function(e){return h(e)}(e)&&(e.stopPropagation(),e.preventDefault()),!1}function k(e,t,n,o){var s=!1;if(o&&(s=s||function(e){if(c(e.keyCode))return!1;var t=e.target;return!(t&&t.dataset.previousValue===e.target.value)}(e)),s=s||function(e){var t=e.altKey&&(e.keyCode==u.Key.Down||e.keyCode==u.Key.Up),n=h(e),o=e.keyCode==u.Key.Esc||e.keyCode==u.Key.Enter;return t||n||o}(e)){var a=e.target.value;if(n&&u.HasParametersForVirtualScrollingRequest(n)){var r=u.GetParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("OnComboBoxListBoxKeyUp",a,e.keyCode,e.altKey,e.ctrlKey,r.itemHeight,r.scrollTopForRequest,r.scrollHeightForRequest)}else t.invokeMethodAsync("OnComboBoxKeyUp",a,e.keyCode,e.altKey,e.ctrlKey)}}function h(e){return e.keyCode===u.Key.Down||e.keyCode===u.Key.Up||e.keyCode===u.Key.PageUp||e.keyCode===u.Key.PageDown||e.ctrlKey&&(e.keyCode===u.Key.Home||e.keyCode===u.Key.End)}function j(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<i+100&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),e.invokeMethodAsync("OnComboBoxLostFocus",t.value))}}function p(e){return(e=o.EnsureElement(e)).querySelector("div.dxbs-dm.dropdown-menu")}function C(e,t,n,u,c){if(e=o.EnsureElement(e)){s.DisposeEvents(e),u="true"===u.toLowerCase(),c="true"===c.toLowerCase(),t=o.EnsureElement(t);var l=p(e),m=l;c&&d(e);var h=function(e){return y(e,u)},C=function(e){return k(e,n,m,u)},D=function(e){return function(e,t){var n=e.target;f(n),E(n)}(e)},T=function(e){return function(e,t){var n=e.target;v(n,!0),n.dataset.timerId=window.setTimeout(function(){if(delete n.dataset.timerId,function(e){e&&e.dataset.bluredClass&&(e.className=e.dataset.bluredClass)}(n),document.activeElement!==n)try{j(t,n)}catch(e){}},i)}(e,n)},w=function(e){return v(t)},I=function(a){return r.OnOutsideClick(a,e,function(){o.elementIsInDOM(e)||s.DisposeEvents(e);var a=document.activeElement===t,u=t.dataset.timerId>0,c=l&&r.IsDropDownVisible(l);v(t),(a||u||c)&&j(n,t,!0)})};return o.AttachEventToElement(t,"keydown",h),o.AttachEventToElement(t,"keyup",C),o.AttachEventToElement(t,"focus",D),o.AttachEventToElement(t,"blur",T),o.AttachEventToElement(e,"mousedown",w),o.AttachEventToElement(document,a.TouchUIHelper.touchMouseDownEventName,I),s.RegisterDisposableEvents(e,function(){o.DetachEventFromElement(t,"keydown",h),o.DetachEventFromElement(t,"keyup",C),o.DetachEventFromElement(t,"focus",D),o.DetachEventFromElement(t,"blur",T),o.DetachEventFromElement(e,"mousedown",w),o.DetachEventFromElement(document,a.TouchUIHelper.touchMouseDownEventName,I)}),Promise.resolve("ok")}}function D(e){if(e=o.EnsureElement(e))return s.DisposeEvents(e),Promise.resolve("ok")}var T={Init:C,Dispose:D,PrepareInputIfFocused:m,ScrollToSelectedItem:d};n.Dispose=D,n.Init=C,n.PrepareInputIfFocused=m,n.ScrollToSelectedItem=d,n.default=T},["cjs-chunk-c27cc8ab.js","cjs-dom-utils-600e85da.js","cjs-chunk-f01bf344.js","cjs-chunk-6373d752.js","cjs-dropdowns-9d2f3093.js","cjs-chunk-f6404a26.js","cjs-chunk-5d571f4f.js"]);
